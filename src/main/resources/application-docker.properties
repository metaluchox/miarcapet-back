# ============================================
# PERFIL DOCKER - Configuración para Docker
# ============================================
# Este perfil se activa cuando se ejecuta en Docker Compose
# Las variables de entorno se configuran en docker-compose.yml

# ============================================
# DATASOURCE - Configuración de base de datos
# ============================================
# URL de conexión a PostgreSQL (usa el nombre de tu contenedor 'mi-postgres-db' como hostname)
spring.datasource.url=jdbc:postgresql://mi-postgres-db:5432/miarcapet

# Credenciales de la base de datos
spring.datasource.username=postgres
spring.datasource.password=tito

# Driver de PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# ============================================
# JPA / HIBERNATE
# ============================================
# Dialecto de PostgreSQL para Hibernate
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Estrategia de DDL: update mantiene los datos existentes
# Otras opciones: create, create-drop, validate, none
spring.jpa.hibernate.ddl-auto=update

# Muestra las consultas SQL en consola (útil para desarrollo)
spring.jpa.show-sql=true

# Formatea las consultas SQL para mejor legibilidad
spring.jpa.properties.hibernate.format_sql=true

# Optimizaciones de Hibernate
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# ============================================
# LOGGING - Configuración de logs
# ============================================
# Nivel de log general
logging.level.root=INFO

# Log de Hibernate SQL
logging.level.org.hibernate.SQL=DEBUG

# Log de los parámetros SQL
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Log de la aplicación
logging.level.cl.project.miarcapet=DEBUG

# Log de Spring Security
logging.level.org.springframework.security=DEBUG

# ============================================
# SERVER - Configuración del servidor
# ============================================
# Puerto del servidor (ya expuesto en Dockerfile)
server.port=8080

# Contexto de la aplicación (opcional)
# server.servlet.context-path=/api

# ============================================
# ACTUATOR - Endpoints de monitoreo (opcional)
# ============================================
# Si tienes Spring Boot Actuator, descomentar:
# management.endpoints.web.exposure.include=health,info,metrics
# management.endpoint.health.show-details=always

# ============================================
# POOL DE CONEXIONES - HikariCP
# ============================================
# Tamaño máximo del pool de conexiones
spring.datasource.hikari.maximum-pool-size=10

# Tiempo de vida máximo de una conexión (30 minutos)
spring.datasource.hikari.max-lifetime=1800000

# Timeout de conexión (30 segundos)
spring.datasource.hikari.connection-timeout=30000

# ============================================
# SEGURIDAD - JWT y Spring Security
# ============================================
# Si tienes configuraciones de JWT, agrégalas aquí
# jwt.secret=${JWT_SECRET:miSecretoSuperSeguroParaDocker2024!}
# jwt.expiration=86400000

# ============================================
# PROPIEDADES PERSONALIZADAS
# ============================================
# Cualquier propiedad personalizada de tu aplicación
# app.name=MiArcaPet Docker
# app.version=1.0.0
